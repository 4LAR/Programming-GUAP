<!DOCTYPE html>
<html>
<head>
    <title>Webcam Stream</title>
    <script>
        async function loadCameras() {
            const response = await fetch('/cameras');
            const cameras = await response.json();
            const select = document.getElementById('camera_id');
            select.innerHTML = '';
            cameras.forEach(camera => {
                const option = document.createElement('option');
                option.value = camera.id;
                option.text = camera.name;
                select.appendChild(option);
            });
        }
        window.onload = loadCameras;
    </script>
</head>
<body>
    <h1>Webcam Stream</h1>
    <form action="/video_feed" method="get">
        <label for="camera_id">Выберите камеру:</label>
        <select name="camera_id" id="camera_id"></select>
        <input type="submit" value="Запустить">
    </form>
    <img src="/video_feed?camera_id=0" width="640" height="480" id="video">
</body>
</html>
